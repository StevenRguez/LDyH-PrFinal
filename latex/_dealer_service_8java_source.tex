\doxysection{Dealer\+Service.\+java}
\hypertarget{_dealer_service_8java_source}{}\label{_dealer_service_8java_source}\index{src/main/java/domain/game/DealerService.java@{src/main/java/domain/game/DealerService.java}}
\mbox{\hyperlink{_dealer_service_8java}{Ir a la documentación de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00001}00001\ \textcolor{keyword}{package\ }domain.game;}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00003}00003\ \textcolor{keyword}{import}\ \mbox{\hyperlink{namespacedomain}{domain}}.\mbox{\hyperlink{namespacedomain_1_1card}{card}}.\mbox{\hyperlink{interfacedomain_1_1card_1_1_card}{Card}};}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00004}00004\ \textcolor{keyword}{import}\ \mbox{\hyperlink{namespacedomain}{domain}}.\mbox{\hyperlink{namespacedomain_1_1player}{player}}.\mbox{\hyperlink{classdomain_1_1player_1_1_hand_card_list}{HandCardList}};}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00006}00006\ \textcolor{keyword}{import}\ java.security.SecureRandom;}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00007}00007\ \textcolor{keyword}{import}\ java.util.ArrayList;}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00008}00008\ \textcolor{keyword}{import}\ java.util.List;}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00014}\mbox{\hyperlink{classdomain_1_1game_1_1_dealer_service}{00014}}\ \textcolor{keyword}{public}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classdomain_1_1game_1_1_dealer_service}{DealerService}}\ \{}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00015}00015\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00019}\mbox{\hyperlink{classdomain_1_1game_1_1_dealer_service_a0d0b142541dcb6284f2196cc55b6d9b9}{00019}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{final}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classdomain_1_1game_1_1_dealer_service_a0d0b142541dcb6284f2196cc55b6d9b9}{TOTAL\_INITIAL\_HAND\_CARDS}}\ =\ 7;}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00024}00024\ \ \ \ \ \textcolor{keyword}{private}\ \mbox{\hyperlink{classdomain_1_1game_1_1_dealer_service}{DealerService}}()\ \{}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00025}00025\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00026}00026\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00037}\mbox{\hyperlink{classdomain_1_1game_1_1_dealer_service_a3ec18e43620ad481f6005e7c0cebef77}{00037}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ List<Card>\ \mbox{\hyperlink{classdomain_1_1game_1_1_dealer_service_a3ec18e43620ad481f6005e7c0cebef77}{shuffle}}(List<Card>\ cards)\ \{}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00038}00038\ \ \ \ \ \ \ \ \ var\ shuffledCards\ =\ \textcolor{keyword}{new}\ ArrayList<>(cards);}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00039}00039\ \ \ \ \ \ \ \ \ var\ rand\ =\ \textcolor{keyword}{new}\ SecureRandom();\ \textcolor{comment}{//\ Cambiado\ a\ SecureRandom\ para\ mayor\ seguridad}}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00041}00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ current\ =\ 0;\ current\ <\ shuffledCards.size()\ -\/\ 1;\ current++)\ \{}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Obtener\ un\ índice\ aleatorio\ dentro\ de\ los\ índices\ restantes}}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \ \ \ var\ randomIndex\ =\ current\ +\ rand.nextInt(shuffledCards.size()\ -\/\ current);}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00045}00045\ \ \ \ \ \ \ \ \ \ \ \ \ swapCard(shuffledCards,\ current,\ randomIndex);}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00046}00046\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00048}00048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ shuffledCards;}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00049}00049\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00058}\mbox{\hyperlink{classdomain_1_1game_1_1_dealer_service_af2fca55501c011a31b5bea654cbc9e7e}{00058}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \mbox{\hyperlink{classdomain_1_1game_1_1_draw_pile}{DrawPile}}\ \mbox{\hyperlink{classdomain_1_1game_1_1_dealer_service_af2fca55501c011a31b5bea654cbc9e7e}{shuffle}}(\mbox{\hyperlink{classdomain_1_1game_1_1_draw_pile}{DrawPile}}\ drawPile,\ \mbox{\hyperlink{interfacedomain_1_1card_1_1_card}{Card}}\ lastPlayedCard)\ \{}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00059}00059\ \ \ \ \ \ \ \ \ var\ oldCards\ =\ \textcolor{keyword}{new}\ ArrayList<Card>();}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00060}00060\ \ \ \ \ \ \ \ \ oldCards.add(lastPlayedCard);}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00061}00061\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00062}00062\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Extraer\ todas\ las\ cartas\ del\ mazo}}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00063}00063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ drawPile.\mbox{\hyperlink{classdomain_1_1game_1_1_draw_pile_afe8bbaf7fdec25053a61c2229a4e9b18}{getSize}}();\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ oldCards.add(drawPile.\mbox{\hyperlink{classdomain_1_1game_1_1_draw_pile_a340d45ea4a567dea82561ec7e61438ce}{drawCard}}());}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00065}00065\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00067}00067\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Barajar\ las\ cartas\ extraídas}}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00068}00068\ \ \ \ \ \ \ \ \ var\ shuffledCards\ =\ \mbox{\hyperlink{classdomain_1_1game_1_1_dealer_service_a3ec18e43620ad481f6005e7c0cebef77}{shuffle}}(oldCards);}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00069}00069\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00070}00070\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classdomain_1_1game_1_1_draw_pile}{DrawPile}}(shuffledCards);}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00071}00071\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00072}00072\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00080}00080\ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ swapCard(List<Card>\ shuffledList,\ \textcolor{keywordtype}{int}\ currentIndex,\ \textcolor{keywordtype}{int}\ randomIndex)\ \{}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00081}00081\ \ \ \ \ \ \ \ \ var\ randomCard\ =\ shuffledList.get(randomIndex);}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00082}00082\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00083}00083\ \ \ \ \ \ \ \ \ shuffledList.set(randomIndex,\ shuffledList.get(currentIndex));}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00084}00084\ \ \ \ \ \ \ \ \ shuffledList.set(currentIndex,\ randomCard);}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00085}00085\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00086}00086\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00096}\mbox{\hyperlink{classdomain_1_1game_1_1_dealer_service_a280d1898ce0bc2f5c56c81d017d1b179}{00096}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \mbox{\hyperlink{classdomain_1_1player_1_1_hand_card_list}{HandCardList}}[]\ \mbox{\hyperlink{classdomain_1_1game_1_1_dealer_service_a280d1898ce0bc2f5c56c81d017d1b179}{dealInitialHandCards}}(\mbox{\hyperlink{classdomain_1_1game_1_1_draw_pile}{DrawPile}}\ drawPile,\ \textcolor{keywordtype}{int}\ totalPlayers)\ \{}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00097}00097\ \ \ \ \ \ \ \ \ var\ handCardLists\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classdomain_1_1player_1_1_hand_card_list}{HandCardList}}[totalPlayers];}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00098}00098\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00099}00099\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \mbox{\hyperlink{classdomain_1_1game_1_1_dealer_service_a0d0b142541dcb6284f2196cc55b6d9b9}{TOTAL\_INITIAL\_HAND\_CARDS}};\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00100}00100\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ p\ =\ 0;\ p\ <\ totalPlayers;\ p++)\ \{}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00101}00101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ ==\ 0)\ \{}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00102}00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ handCardLists[p]\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classdomain_1_1player_1_1_hand_card_list}{HandCardList}}();}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00103}00103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00104}00104\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00105}00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ handCardLists[p].addCard(drawPile.\mbox{\hyperlink{classdomain_1_1game_1_1_draw_pile_a340d45ea4a567dea82561ec7e61438ce}{drawCard}}());}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00106}00106\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00107}00107\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00108}00108\ }
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00109}00109\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ handCardLists;}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00110}00110\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_dealer_service_8java_source_l00111}00111\ \}}

\end{DoxyCode}
