\doxysection{Dealer\+Service.\+java}
\label{_dealer_service_8java_source}\index{src/main/java/domain/game/DealerService.java@{src/main/java/domain/game/DealerService.java}}
\textbf{ Ir a la documentación de este archivo.}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{keyword}{package\ }domain.game;}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{keyword}{import}\ domain.card.Card;}
\DoxyCodeLine{00004\ \textcolor{keyword}{import}\ domain.player.HandCardList;}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{keyword}{import}\ java.security.SecureRandom;}
\DoxyCodeLine{00007\ \textcolor{keyword}{import}\ java.util.ArrayList;}
\DoxyCodeLine{00008\ \textcolor{keyword}{import}\ java.util.List;}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{public}\ \textcolor{keyword}{class\ }DealerService\ \{}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{final}\ \textcolor{keywordtype}{int}\ TOTAL\_INITIAL\_HAND\_CARDS\ =\ 7;}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keyword}{private}\ DealerService()\ \{}
\DoxyCodeLine{00025\ \ \ \ \ \}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ List<Card>\ shuffle(List<Card>\ cards)\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ var\ shuffledCards\ =\ \textcolor{keyword}{new}\ ArrayList<>(cards);}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ var\ rand\ =\ \textcolor{keyword}{new}\ SecureRandom();\ \textcolor{comment}{//\ Cambiado\ a\ SecureRandom\ para\ mayor\ seguridad}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ current\ =\ 0;\ current\ <\ shuffledCards.size()\ -\/\ 1;\ current++)\ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Obtener\ un\ índice\ aleatorio\ dentro\ de\ los\ índices\ restantes}}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ var\ randomIndex\ =\ current\ +\ rand.nextInt(shuffledCards.size()\ -\/\ current);}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ swapCard(shuffledCards,\ current,\ randomIndex);}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ shuffledCards;}
\DoxyCodeLine{00049\ \ \ \ \ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ DrawPile\ shuffle(DrawPile\ drawPile,\ Card\ lastPlayedCard)\ \{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ var\ oldCards\ =\ \textcolor{keyword}{new}\ ArrayList<Card>();}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ oldCards.add(lastPlayedCard);}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Extraer\ todas\ las\ cartas\ del\ mazo}}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ drawPile.getSize();\ i++)\ \{}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ oldCards.add(drawPile.drawCard());}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Barajar\ las\ cartas\ extraídas}}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ var\ shuffledCards\ =\ shuffle(oldCards);}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ DrawPile(shuffledCards);}
\DoxyCodeLine{00071\ \ \ \ \ \}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ swapCard(List<Card>\ shuffledList,\ \textcolor{keywordtype}{int}\ currentIndex,\ \textcolor{keywordtype}{int}\ randomIndex)\ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ var\ randomCard\ =\ shuffledList.get(randomIndex);}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ shuffledList.set(randomIndex,\ shuffledList.get(currentIndex));}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \ \ shuffledList.set(currentIndex,\ randomCard);}
\DoxyCodeLine{00085\ \ \ \ \ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ HandCardList[]\ dealInitialHandCards(DrawPile\ drawPile,\ \textcolor{keywordtype}{int}\ totalPlayers)\ \{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ var\ handCardLists\ =\ \textcolor{keyword}{new}\ HandCardList[totalPlayers];}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ TOTAL\_INITIAL\_HAND\_CARDS;\ i++)\ \{}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ p\ =\ 0;\ p\ <\ totalPlayers;\ p++)\ \{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ ==\ 0)\ \{}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ handCardLists[p]\ =\ \textcolor{keyword}{new}\ HandCardList();}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ handCardLists[p].addCard(drawPile.drawCard());}
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ handCardLists;}
\DoxyCodeLine{00110\ \ \ \ \ \}}
\DoxyCodeLine{00111\ \}}

\end{DoxyCode}
